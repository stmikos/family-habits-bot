<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Habits</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #2E7D32, #4CAF50);
            color: white;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            max-width: 400px;
            width: 100%;
            text-align: center;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        
        .mascot {
            font-size: 4em;
            margin-bottom: 20px;
            animation: bounce 2s ease-in-out infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .title {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 30px;
        }
        
        .btn {
            background: white;
            color: #2E7D32;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            width: 100%;
            max-width: 280px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .btn:hover, .btn:active {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .features {
            margin-top: 30px;
            text-align: left;
            font-size: 0.95em;
        }
        
        .feature {
            margin: 10px 0;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .feature:last-child {
            border-bottom: none;
        }
        
        .status {
            margin: 20px 0;
            padding: 10px;
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            font-size: 0.9em;
        }
        
        @media (max-width: 480px) {
            .container {
                margin: 10px;
                padding: 20px;
            }
            .title {
                font-size: 2em;
            }
            .mascot {
                font-size: 3em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="mascot">üå±</div>
        <h1 class="title">Family Habits</h1>
        <p class="subtitle">–°–µ–º–µ–π–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä –ø—Ä–∏–≤—ã—á–µ–∫</p>
        
        <div class="status" id="status">
            –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!
        </div>
        
        <button class="btn" onclick="startApp()" id="start-button">
            üöÄ –ù–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
        </button>
        
        <!-- –¢–µ—Å—Ç–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ -->
        <button class="btn" onclick="testNavigation()" id="test-button" style="margin-top: 10px; background: #FF5722;">
            üîß –¢–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–æ—Ç–ª–∞–¥–∫–∞)
        </button>
        
        <div class="features">
            <div class="feature">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –°–µ–º–µ–π–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
            <div class="feature">‚úÖ –¢—Ä–µ–∫–∏–Ω–≥ –ø—Ä–∏–≤—ã—á–µ–∫</div>
            <div class="feature">üè™ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥</div>
            <div class="feature">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</div>
        </div>
    </div>

    <script>
        console.log('üå± Family Habits –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...');
        
        let tg = null;
        let isReady = false;
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º Telegram WebApp API
        if (window.Telegram && window.Telegram.WebApp) {
            tg = window.Telegram.WebApp;
            console.log('‚úÖ Telegram WebApp API –Ω–∞–π–¥–µ–Ω');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            tg.ready();
            tg.expand();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã
            if (tg.colorScheme === 'dark') {
                document.body.style.background = 'linear-gradient(135deg, #1B4F25, #2E7D32)';
            }
            
            // –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
            tg.MainButton.setText('üå± –û—Ç–∫—Ä—ã—Ç—å Family Habits');
            tg.MainButton.color = '#4CAF50';
            tg.MainButton.show();
            tg.MainButton.onClick(startApp);
            
            // –û–±—Ä–∞—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞
            tg.BackButton.onClick(() => {
                window.history.back();
            });
            
            document.getElementById('status').innerHTML = '‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ Telegram';
            isReady = true;
            
        } else {
            console.log('‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ–º –≤ —Ä–µ–∂–∏–º–µ –±—Ä–∞—É–∑–µ—Ä–∞');
            document.getElementById('status').innerHTML = '‚ö†Ô∏è –û—Ç–∫—Ä–æ–π—Ç–µ –∏–∑ Telegram –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏';
        }
        
        function startApp() {
            console.log('üöÄ === –ù–ê–ß–ê–õ–û –§–£–ù–ö–¶–ò–ò startApp ===');
            console.log('Current timestamp:', new Date().toISOString());
            console.log('Current location:', window.location.href);
            console.log('Base URL:', window.location.origin);
            console.log('JavaScript enabled:', true);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
            console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞:');
            console.log('- localStorage –¥–æ—Å—Ç—É–ø–µ–Ω:', typeof(Storage) !== "undefined");
            console.log('- fetch –¥–æ—Å—Ç—É–ø–µ–Ω:', typeof(fetch) !== "undefined");
            console.log('- Promise –¥–æ—Å—Ç—É–ø–µ–Ω:', typeof(Promise) !== "undefined");
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            const btn = document.querySelector('.btn');
            const statusDiv = document.getElementById('status');
            const originalText = btn.innerHTML;
            
            console.log('üéØ –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã:', {
                button: !!btn,
                statusDiv: !!statusDiv,
                originalText: originalText
            });
            
            btn.innerHTML = 'üîÑ –ó–∞–≥—Ä—É–∑–∫–∞...';
            btn.disabled = true;
            statusDiv.innerHTML = 'üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞...';
            
            console.log('‚úÖ UI –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–∫–∞–∑–∞ –∑–∞–≥—Ä—É–∑–∫–∏');
            
            if (tg) {
                try {
                    console.log('üì± Telegram WebApp –æ–±–Ω–∞—Ä—É–∂–µ–Ω, –ø—ã—Ç–∞–µ–º—Å—è –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å');
                    tg.MainButton.showProgress();
                    console.log('‚úÖ Telegram MainButton.showProgress() –≤—ã–∑–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ');
                } catch (e) {
                    console.error('‚ùå –û—à–∏–±–∫–∞ —Å Telegram MainButton:', e);
                }
            } else {
                console.log('‚ö†Ô∏è Telegram WebApp –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ –ü–ï–†–ï–î –ø–µ—Ä–µ—Ö–æ–¥–æ–º
            const registrationUrl = '/registration';
            console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞:', registrationUrl);
            
            // –ü–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - HEAD –∑–∞–ø—Ä–æ—Å
            fetch(registrationUrl, { method: 'HEAD' })
                .then(response => {
                    console.log('üìä HEAD –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω, —Å—Ç–∞—Ç—É—Å:', response.status);
                    if (response.ok) {
                        console.log('‚úÖ –ú–∞—Ä—à—Ä—É—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –≤—ã–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–µ—Ö–æ–¥...');
                        statusDiv.innerHTML = '‚úÖ –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–µ—Ö–æ–¥...';
                        
                        // –î–∞–µ–º –≤—Ä–µ–º—è –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
                        setTimeout(() => {
                            console.log('üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ #1: window.location.href');
                            try {
                                window.location.href = registrationUrl;
                                console.log('‚úÖ window.location.href –≤—ã–ø–æ–ª–Ω–µ–Ω');
                            } catch (error) {
                                console.error('‚ùå –û—à–∏–±–∫–∞ window.location.href:', error);
                                
                                // –ü–æ–ø—Ä–æ–±—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±
                                console.log('üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ #2: window.location.assign');
                                try {
                                    window.location.assign(registrationUrl);
                                    console.log('‚úÖ window.location.assign –≤—ã–ø–æ–ª–Ω–µ–Ω');
                                } catch (error2) {
                                    console.error('‚ùå –û—à–∏–±–∫–∞ window.location.assign:', error2);
                                    
                                    // –¢—Ä–µ—Ç—å—è –ø–æ–ø—ã—Ç–∫–∞
                                    console.log('üîÑ –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ #3: window.open');
                                    try {
                                        window.open(registrationUrl, '_self');
                                        console.log('‚úÖ window.open –≤—ã–ø–æ–ª–Ω–µ–Ω');
                                    } catch (error3) {
                                        console.error('‚ùå –í—Å–µ –º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏:', error3);
                                        statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞: –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã';
                                        btn.innerHTML = originalText;
                                        btn.disabled = false;
                                    }
                                }
                            }
                        }, 300);
                    } else {
                        console.error('‚ùå –°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É:', response.status, response.statusText);
                        statusDiv.innerHTML = `‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (${response.status})`;
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                    }
                })
                .catch(error => {
                    console.error('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –º–∞—Ä—à—Ä—É—Ç–∞:', error);
                    statusDiv.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É';
                    
                    // –ü–æ–ø—Ä–æ–±—É–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
                    console.log('üîÑ –ü—Ä–æ–±—É–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏...');
                    setTimeout(() => {
                        try {
                            window.location.href = registrationUrl;
                        } catch (e) {
                            console.error('‚ùå –ü–µ—Ä–µ—Ö–æ–¥ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∂–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:', e);
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }
                    }, 500);
                });
                
            console.log('üöÄ === –ö–û–ù–ï–¶ –§–£–ù–ö–¶–ò–ò startApp ===');
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function testNavigation() {
            console.log('üîß === –¢–ï–°–¢ –ù–ê–í–ò–ì–ê–¶–ò–ò ===');
            const methods = [
                () => { window.location.href = '/registration'; },
                () => { window.location.assign('/registration'); },
                () => { window.location.replace('/registration'); },
                () => { window.open('/registration', '_self'); },
                () => { window.open('/registration', '_blank'); }
            ];
            
            const methodNames = [
                'window.location.href',
                'window.location.assign',
                'window.location.replace',
                'window.open(_self)',
                'window.open(_blank)'
            ];
            
            methods.forEach((method, index) => {
                setTimeout(() => {
                    try {
                        console.log(`üîß –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–µ—Ç–æ–¥ ${index + 1}: ${methodNames[index]}`);
                        method();
                        console.log(`‚úÖ –ú–µ—Ç–æ–¥ ${methodNames[index]} –≤—ã–ø–æ–ª–Ω–µ–Ω`);
                    } catch (error) {
                        console.error(`‚ùå –ú–µ—Ç–æ–¥ ${methodNames[index]} –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:`, error);
                    }
                }, index * 1000);
            });
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
        window.onerror = function(msg, url, line, col, error) {
            console.error('–û—à–∏–±–∫–∞:', msg, url, line, col, error);
            document.getElementById('status').innerHTML = '‚ùå –û—à–∏–±–∫–∞: ' + msg;
        };
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
        window.addEventListener('load', () => {
            console.log('üì± === –°–¢–†–ê–ù–ò–¶–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–ì–†–£–ñ–ï–ù–ê ===');
            console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–æ–≤...');
            
            // –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            const startButton = document.getElementById('start-button');
            const statusDiv = document.getElementById('status');
            
            console.log('üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:', {
                startButton: !!startButton,
                statusDiv: !!statusDiv,
                startButtonDisabled: startButton?.disabled,
                startButtonOnclick: startButton?.onclick,
                startButtonEventListeners: startButton?.addEventListener
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            fetch('/registration', { method: 'HEAD' })
                .then(response => {
                    console.log('üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ /registration:', {
                        status: response.status,
                        statusText: response.statusText,
                        ok: response.ok,
                        headers: Object.fromEntries(response.headers.entries())
                    });
                    
                    if (response.ok) {
                        console.log('‚úÖ –ú–∞—Ä—à—Ä—É—Ç /registration –¥–æ—Å—Ç—É–ø–µ–Ω');
                        if (statusDiv) {
                            statusDiv.innerHTML = '‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!';
                        }
                    } else {
                        console.error('‚ùå –ú–∞—Ä—à—Ä—É—Ç /registration –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Å—Ç–∞—Ç—É—Å:', response.status);
                        if (statusDiv) {
                            statusDiv.innerHTML = '‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ä–≤–µ—Ä–æ–º (—Å—Ç–∞—Ç—É—Å: ' + response.status + ')';
                        }
                    }
                })
                .catch(error => {
                    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞:', error);
                    if (statusDiv) {
                        statusDiv.innerHTML = '‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ —Å–µ—Ä–≤–µ—Ä—É';
                    }
                });
            
            if (!isReady && window.Telegram && window.Telegram.WebApp) {
                setTimeout(() => {
                    if (window.Telegram.WebApp.initData) {
                        document.getElementById('status').innerHTML = '‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –≤ Telegram';
                    }
                }, 1000);
            }
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏
            if (startButton) {
                console.log('üéØ –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π...');
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ onclick
                startButton.addEventListener('click', function(event) {
                    console.log('üñ±Ô∏è === –ö–õ–ò–ö –ü–û –ö–ù–û–ü–ö–ï –ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù ===');
                    console.log('Event details:', {
                        type: event.type,
                        target: event.target,
                        currentTarget: event.currentTarget,
                        defaultPrevented: event.defaultPrevented,
                        cancelable: event.cancelable
                    });
                });
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ mousedown
                startButton.addEventListener('mousedown', function(event) {
                    console.log('üñ±Ô∏è MOUSEDOWN –Ω–∞ –∫–Ω–æ–ø–∫–µ');
                });
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ touchstart –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
                startButton.addEventListener('touchstart', function(event) {
                    console.log('üì± TOUCHSTART –Ω–∞ –∫–Ω–æ–ø–∫–µ');
                });
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –∫–Ω–æ–ø–∫–∞ –ø–æ–ª—É—á–∞—Ç—å —Ñ–æ–∫—É—Å
                startButton.addEventListener('focus', function() {
                    console.log('üéØ –ö–Ω–æ–ø–∫–∞ –ø–æ–ª—É—á–∏–ª–∞ —Ñ–æ–∫—É—Å');
                });
                
                console.log('‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã');
            } else {
                console.error('‚ùå –ö–Ω–æ–ø–∫–∞ start-button –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!');
            }
        });
        
        // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        console.log('üîç === –°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø ===');
        console.log('User Agent:', navigator.userAgent);
        console.log('Location:', window.location.href);
        console.log('Protocol:', window.location.protocol);
        console.log('Host:', window.location.host);
        console.log('Telegram available:', !!window.Telegram);
        console.log('Document readyState:', document.readyState);
        console.log('Window.location methods available:', {
            href: typeof window.location.href,
            assign: typeof window.location.assign,
            replace: typeof window.location.replace
        });
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ Content Security Policy
        if (document.querySelector('meta[http-equiv="Content-Security-Policy"]')) {
            console.log('‚ö†Ô∏è CSP –æ–±–Ω–∞—Ä—É–∂–µ–Ω:', document.querySelector('meta[http-equiv="Content-Security-Policy"]').content);
        } else {
            console.log('‚úÖ CSP –º–µ—Ç–∞-—Ç–µ–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω');
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É pop-ups
        try {
            const testWindow = window.open('', '_self');
            if (testWindow) {
                console.log('‚úÖ window.open –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');
                testWindow.close();
            } else {
                console.log('‚ö†Ô∏è window.open –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');
            }
        } catch (e) {
            console.log('‚ö†Ô∏è window.open –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω:', e.message);
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        document.addEventListener('click', function(event) {
            console.log('üñ±Ô∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–ª–∏–∫:', {
                target: event.target.tagName,
                targetId: event.target.id,
                targetClass: event.target.className,
                defaultPrevented: event.defaultPrevented
            });
        });
    </script>
</body>
</html>